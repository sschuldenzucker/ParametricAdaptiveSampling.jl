<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · ParametricAdaptiveSampling.jl</title><meta name="title" content="API Reference · ParametricAdaptiveSampling.jl"/><meta property="og:title" content="API Reference · ParametricAdaptiveSampling.jl"/><meta property="twitter:title" content="API Reference · ParametricAdaptiveSampling.jl"/><meta name="description" content="Documentation for ParametricAdaptiveSampling.jl."/><meta property="og:description" content="Documentation for ParametricAdaptiveSampling.jl."/><meta property="twitter:description" content="Documentation for ParametricAdaptiveSampling.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">ParametricAdaptiveSampling.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li class="is-active"><a class="tocitem" href="api.html">API Reference</a><ul class="internal"><li><a class="tocitem" href="#Main-entry-points"><span>Main entry points</span></a></li><li><a class="tocitem" href="#Other-Public-Members"><span>Other Public Members</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="api.html">API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="api.html">API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/sschuldenzucker/ParametricAdaptiveSampling.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/sschuldenzucker/ParametricAdaptiveSampling.jl/blob/master/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="Main-entry-points"><a class="docs-heading-anchor" href="#Main-entry-points">Main entry points</a><a id="Main-entry-points-1"></a><a class="docs-heading-anchor-permalink" href="#Main-entry-points" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParametricAdaptiveSampling.sample_adaptive_parametric" href="#ParametricAdaptiveSampling.sample_adaptive_parametric"><code>ParametricAdaptiveSampling.sample_adaptive_parametric</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_adaptive_parametric(f, tmin, tmax)
sample_adaptive_parametric(f, ts_init)</code></pre><p>Automatically sample points from a parametric function <code>f: Float64 -&gt; Vector of Real</code> such that the error from linear interpolation between these points is small.</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: The parameteric function. Given a Float64 in <code>[tmin, tmax]</code> must return an n-element tuple or vector of reals, where n must be constant across t values. This should be at least continuous on the interval.</li><li><code>tmin::Real</code>: The lower bound of the parameter domain.</li><li><code>tmax::Real</code>: The upper bound of the parameter domain.</li><li><code>ts_init::Collection{Real}</code>: If this form is used, the initial t values are given explicitly. Otherwise (with <code>tmin</code> and <code>tmax</code>) we do initial sampling according to <code>min_points</code>. Must have size at least 2.</li></ul><p><code>f</code> must have well-defined values within <code>[tmin, tmax]</code>, including the endpoints.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>errfun</code>: Error function <code>(Segment, Range) -&gt; Float64</code> where the <code>Range</code> is (an estimate of) the value range. Default = <a href="api.html#ParametricAdaptiveSampling.err_relative_range-Tuple{ParametricAdaptiveSampling.Segment, ParametricAdaptiveSampling.Range}"><code>err_relative_range</code></a> = l-infinity distance component-wise relative to range; this is a good default for plotting.</li><li><code>tol</code>: Tolerance to <code>errfun</code> for refinement. For plotting, this could be 1 / (max vertical/horizontal resolution). Default = 1e-3.</li><li><code>min_points::Integer</code>: Minimum number of t values to sample linearly initially. Pass 2 for no presampling beyond tmin and tmax. Default = 20.</li><li><code>max_points::Real</code>: Maximum number of points to sample. Pass <code>Inf</code> for no limit (though this is not recommended).</li></ul><p><strong>Returns</strong></p><p><code>(t values :: Vector{Number}, value points :: Vector{Tuple})</code>. For plotting applications, you&#39;ll want to discard the t values, i.e., take the second return value only.</p><p><strong>Operation</strong></p><p>This function works as follows: first, it performs an initial presampling step (first form) or accepts a list of initial samples (second form). Then, it considers the segment where the error of linear interpolation across the segment vs the midpoint value (midpoint in t space) is worst and splits it into two halves. Then repeat until all errors are below the tolerance or we run out of points. The estimate of the value range is updated as we add new points.</p><p><strong>Caveats</strong></p><p>If <code>min_points</code> is low, <code>range</code> in <code>errfun</code> may be catastrophically small, at least for initial refinement. You probably don&#39;t want that. More generally, if the initial samples do not represent the value range reasonably well, in some cases, refinement may add excessive points, and may even reach <code>max_points</code> without any meaningful progress. If this happens, you probably want to adjust initial samples.</p><p>Recursion is is by splitting into halves in t space, so if your function has details that are missed by this recursive grid, they won&#39;t show up. In this case, increasing <code>min_points</code> may help. </p><p><strong>Features not yet implemented (SOMEDAY)</strong></p><ul><li>Infinite or open t ranges where we would adaptively sample larger/smaller (towards infinity or the edges) t values. This may be an instance of a more general hook into refinement.</li><li>Some way of detecting and avoiding polar points. Basically a way to say &quot;it&#39;s not useful to plot this, better to cut it out&quot;. Not clear how we&#39;d do this in a robust way without affecting some use cases negatively.</li><li>Optional penalty for recursion depth (or something like this) to avoid excessive concentration at polar points if <code>max_points</code> gets exhausted. This would have to be configured by the user with knowledge of the function, can be detrimental otherwise. Unclear if we want this.</li><li>Option to split into more than two parts per recursion step, or to split not into halves but by some other proportions. This could help when details are missed by the 2-split recursion (see Caveats).</li><li>Point density target in value space. Could help in situations where the midway point is interpolated well linearly, but there is additional variation at some other point.</li><li>Option to drop points that are ultimately not needed if the range expands during refinement (may reduce number of points, might be useful for some later computation steps).</li><li>A way to understand that the <code>Range</code> may actually be the wrong thing, e.g., when we use <code>aspect_ratio=1</code> in the plot and the plot therefore creates additional space, or some xlim or ylim. Hard to do generically. Maybe make an option to pass the plot range explicitly.</li><li>Is there some smartness we can do if the (second) derivative of f is available? Choosing the splitting point better than at the interval midpoint seems attractive.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sschuldenzucker/ParametricAdaptiveSampling.jl/blob/7767feb3f87f82332b6622efb69ae6dafa5d4361/src/ParametricAdaptiveSampling.jl#L82-L128">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParametricAdaptiveSampling.sample_adaptive" href="#ParametricAdaptiveSampling.sample_adaptive"><code>ParametricAdaptiveSampling.sample_adaptive</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_adaptive(f, xmin, xmax)
sample_adaptive(f, xs)</code></pre><p>Non-parametric variant of <a href="api.html#ParametricAdaptiveSampling.sample_adaptive_parametric"><code>sample_adaptive_parametric</code></a> for a function <code>f: Float64 -&gt; Real</code>. See the documentation of that function. The same keyword arguments are supported.</p><p><strong>Returns</strong></p><p><code>x-y pairs :: Vector{Tuple{Real, Real}}</code>. These are the resulting points.</p><p>Note that the return format is different from <a href="api.html#ParametricAdaptiveSampling.sample_adaptive_parametric"><code>sample_adaptive_parametric</code></a> because there is no separate space of &quot;t values&quot; here.</p><p><strong>When this function is useful</strong></p><p>Note: This function is often not needed. In many cases, for plotting, it will be faster to just spam a lot of x values instead. Cases where you <em>may</em> want this function could be:</p><ol><li>f is slow to evaluate.</li><li>You want to limit the number of data points for some later computation step that is slow.</li><li>You need very high precision in your output and can&#39;t affort <em>that</em> many points, maybe for a non-plotting use case.</li></ol><p>In cases 2. and 3., you may also want to use custom values and/or a custom error function in the keyword arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sschuldenzucker/ParametricAdaptiveSampling.jl/blob/7767feb3f87f82332b6622efb69ae6dafa5d4361/src/ParametricAdaptiveSampling.jl#L199-L220">source</a></section></article><h2 id="Other-Public-Members"><a class="docs-heading-anchor" href="#Other-Public-Members">Other Public Members</a><a id="Other-Public-Members-1"></a><a class="docs-heading-anchor-permalink" href="#Other-Public-Members" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParametricAdaptiveSampling.Range" href="#ParametricAdaptiveSampling.Range"><code>ParametricAdaptiveSampling.Range</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A range of vectors, from the &#39;lower-left&#39; corner to the &#39;upper-right&#39; one.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sschuldenzucker/ParametricAdaptiveSampling.jl/blob/7767feb3f87f82332b6622efb69ae6dafa5d4361/src/ParametricAdaptiveSampling.jl#L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParametricAdaptiveSampling.Segment" href="#ParametricAdaptiveSampling.Segment"><code>ParametricAdaptiveSampling.Segment</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Interval of t values, with function values and midpoint. Ensures t1 &lt; t2 but we don&#39;t check this on construction. V must be a tuple type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sschuldenzucker/ParametricAdaptiveSampling.jl/blob/7767feb3f87f82332b6622efb69ae6dafa5d4361/src/ParametricAdaptiveSampling.jl#L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParametricAdaptiveSampling.err_relative_range-Tuple{ParametricAdaptiveSampling.Segment, ParametricAdaptiveSampling.Range}" href="#ParametricAdaptiveSampling.err_relative_range-Tuple{ParametricAdaptiveSampling.Segment, ParametricAdaptiveSampling.Range}"><code>ParametricAdaptiveSampling.err_relative_range</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>An <code>errfun</code> for the sampling functions. l-infinity error relative to the range, component-wise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sschuldenzucker/ParametricAdaptiveSampling.jl/blob/7767feb3f87f82332b6622efb69ae6dafa5d4361/src/ParametricAdaptiveSampling.jl#L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParametricAdaptiveSampling.widths-Tuple{ParametricAdaptiveSampling.Range}" href="#ParametricAdaptiveSampling.widths-Tuple{ParametricAdaptiveSampling.Range}"><code>ParametricAdaptiveSampling.widths</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Iterator for the widths of each dimension. An iterator of Float64.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sschuldenzucker/ParametricAdaptiveSampling.jl/blob/7767feb3f87f82332b6622efb69ae6dafa5d4361/src/ParametricAdaptiveSampling.jl#L38">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.0 on <span class="colophon-date" title="Thursday 15 May 2025 11:14">Thursday 15 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
